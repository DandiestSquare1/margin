module.exports=angular.module("MarginApp.controllers",["MarginApp.services"]).controller("MainCntrl",["$scope","$http","User",function(t,e,n){t.init=function(e){e&&n.get(e).then(function(e){t.user=e,_.defer(function(){t.$apply()})})}}]).controller("DashCntrl",["$scope","$http","User",function(t,e,n){t.stockTicker="GOOG",t.startGame=function(){t.$parent.user.game.started=!0,n.post(t.$parent.user._id,t.$parent.user).then(function(){_.defer(function(){t.$apply()})})}}]).controller("StockCntrl",["$scope","$http","User","StockData",function(t,e,n,r){t.maxPossibleShares=1,t.$watch("stock",function(){t.$parent.user&&(t.assets=t.$parent.user.game.amount,t.maxPossibleShares=Math.floor(t.assets/t.stock.LastPrice))}),t.render=function(e){t.orderPath="/order/"+e,r.getQuote(e).then(function(e){t.stock=e,_.defer(function(){t.$apply()})})},t.$watch("numShares",function(){t.$parent.user&&(t.assets=t.$parent.user.game.amount-t.stock.LastPrice*t.numShares)})}]);